# a = int(input('seconds: '))
# h = a//(60*60)
# m = (a//60) % 60
# s = a % 60
#
# print(f'{h}:{m}:{s}')


#
# errno = 50159747054
# name = 'Bob'
#
# print('Hello, %s' % name)
#
# print('%x' % errno)
#
# print('Hey %s, there is a 0x%x error!' % (name, errno))
#


# txt = "banana"
#
# x = txt.rjust(15)
#
# print(x, "is my favorite fruit.")


# n = int(input('num= '))
#
# for i in range(2, n):
#     if n % i == 0:
#         print(f'{n} is not primal')
#         break
#     else:
#         print(f'{n} is primal')
#         break


# def my_func(arg1, arg2, arg3):
#     print('> Start of function')
#     print(arg1, arg2, arg3)
#     return arg1, arg2, arg3
#     print('> End of function')
#
# res = my_func('Akbar', 111, False)
# print(res, res[0], res[1], res[2])
# print(type(res))

#
# def primal(n):
#     for i in range(1, n+1):
#         for j in range(2, i):
#             if i % j == 0:
#                 return False
#
#             else:
#                 print(i)
#
#
#
# print(primal(16))


#
# string = 'geeks for geeks'
#
# # returns index value
# result = string.find('for')
# print("Substring for:", result)
#
# result = string.find('best')
# print("Substring best:", result)


# n = input('num= ')
#
# l = [i for i in n]
# l1 = map(int, l)
#
# a = sum(l1)
#
# while a > 10:
#     a = str(a)
#     l = [i for i in a]
#     l1 = map(int, l)
#     a = sum(a)
#
# print(a)


# print("The octal representation of 23 is " + oct(23))

# print("The octal representation of the"
#       " ascii value of 'z' is " + oct(ord('z')))
#
# print("The octal representation of the binary"
#       " of 23 is " + oct(0b10111))
#
# print("The octal representation of the binary"
#       " of 23 is " + oct(0x17))

# print(int(0x17))


# d = {
#     'akbar' : 'sara',
#     12 : 21
# }
#
#
# print(d.get('mashti'), 12365)


# s = "Hello akbar11, date: 1399/12/10, time: 12:05:2"
# d = {}
# for _ in s:
#     d[_] = d.get(_, 0) + 1
# # Dict Comprehension
# print({key: value for key, value in d.items() if value > 1})


# class Triangle:
#
#     def __init__(self, xa, ya, xb, yb, xc, yc):
#         self.xa = xa
#         self.ya = ya
#         self.xb = xb
#         self.yb = yb
#         self.xc = xc
#         self.yc = yc
#
#     def area(self): return 0.5 * abs(
#         self.xa * (self.yb - self.yc) + self.xb * (self.yc - self.ya) + self.xc * (self.ya - self.yb))
#
#
# s = Triangle(0, 0, 2, 2, 3, 0)
# print(s.area())

# n = 10
# for i in range(1, n+1):
# print(*[i*j for j in range(1, n+1)], sep='\t')


# class User:
#     def __init__(self, *args): self._father_name = 'akbar'
#
#
# class Student(User):
#     def some_method(self):
#         print(f'{self._father_name=}')
#
#
# u = User()
# s = Student()
# s.some_method()
# print(u._father_name)  # ???print(s._father_name)  # ???


# class MyParentClass:
#     def __init__(self, name):
#         print("(ParentClass > __init__)")
#         self._name = name
#
#     def welcome(self):
#         print("(ParentClass > some_method)")
#         return f'Hello {self._name}!'
#
#
# print('Parent Instantiation:')
# parent_ins = MyParentClass('Reza')
# print('\nParent Welcoming:')
# print(parent_ins.welcome())
#
#
# class MyChildClass(MyParentClass):
#     def __init__(self, name='Akbar'):
#         super().__init__('Mr. ' + name)
#         print("(ChildClass > __init__)")
#
#     def welcome(self):
#         print("(ChildClass > some_method)")
#         return super().welcome()
#
#
# print('Child Instantiation:')
# child_ins = MyChildClass()
# print('\nChild Welcoming:')
# print(child_ins.welcome())


# import datetime
# x = datetime.datetime(2020, 5, 17, 16)
# print(x)


# from datetime import datetime
#
# dt = datetime.today()
# seconds = dt.timestamp()
# print(dt)
#
# import datetime
#
# x = datetime.datetime(1999, 4, 7, 12)
# print(x)
# print(dt - x)


# class Base:
#     def method(self):
#         return f'base'
#
#
# class Father(Base):
#     def method(self):
#         return super().method() + 'father'
#
#
# class Mother(Base):
#     def method(self):
#         return super().method() + 'mother'
#
#
# class Child(Father, Mother):
#     pass
#
#
# c = Child()
# print(c.method())


# f = open('example.txt', 'w')
#
# f.write('Test test:\nhello world\ndate:4/14\ntime:8:40')
# f.close()
# f = open('example.txt')
# print(f.readline())
# print(f.readline(7))
# print(f.readline())
# print(f.readline())
# print(f.readline())
# print(f.readlines(10))
# print(f.readlines())

# class User:
#     def __init__(self, id, name, phone):
#         self.id = id
#         self.name = name
#         self.phone = phone
#
#     def save(self):
#         file_name = f'{self.name}.user'
#         with open(file_name, 'w') as f:
#             f.write(f'{self.id=}\n{self.name=}\n{self.phone=}')
#         return file_name
#
#     @classmethod
#     def from_file(cls, file_path):
#         self = User.__new__(User)
#         with open(file_path, 'r') as f:
#             file_content = f.read()
#         exec(file_content)
#         return self
#
#
# u = User(1, 'akbar', '9129000111')
# file_name = u.save()
# print(file_name)


# s = 'salam salam akbar 1 11 2223 1'
# print(s.split())
#
# print(list(set(s.split())))

# data = [
#  {
#  'key1': 1,
#  'key2': 2,
#  'key-name': 'akbar',
#  },
#  (1, 2, 3, 4),
#  'A String!'
# ]
#
#
# import pickle
# pickled = pickle.dumps(data)
# print('PICKLED:', pickled)
# unpickled = pickle.loads(pickled)
# print('UN-PICKLED:', unpickled)

# import pickle
#
#
# class User:
#     def __init__(self, id, name, phone):
#         self.id = id
#         self.name = name
#         self.phone = phone
#
#
# u = User(1, 'akbar', '09123456789')
# pickled = pickle.dumps(u)
# print('PICKLED user:', pickled)
# unpickled = pickle.loads(pickled)
# print('UN-PICKLED user:', unpickled)


# class NormalizerError(Exception):
#     pass
#
#
# class PhoneNumError(NormalizerError):
#     phone_number: str
#
#     def __init__(self, phone_number, *args):
#         super().__init__(*args)
#         self.phone_number = phone_number
#
#
# def normalize_phone(phone_num: str, prefix_num='+98'):
#     # Get last 10 digits of phone number (must starts with '9')
#     phone_num = phone_num[-10:]
#     if len(phone_num) < 10:
#         raise PhoneNumError(phone_num, "Phone number Length must be >= 10 .")
#     if not phone_num.isnumeric():
#         raise PhoneNumError(phone_num, "Phone number is NOT numeric.")
#     if not phone_num.startswith('9'):
#         raise PhoneNumError(phone_num, "Phone number does NOT start with '9'.")
#     return prefix_num + phone_num  # Also may raises `TypeError `
#
#
# normalize_phone('09379880665')  # OK
# # normalize_phone('379880665') # PhoneNumError : Length
# # normalize_phone('0937988o665') # PhoneNumError : Numeric
# # normalize_phone('0379880665') # PhoneNumError : Doesn't start with 9
# # normalize_phone('9379880665', 0) # TypeError: str + int


# def division(a: float, b: float):
#     assert b, "Division by Zero"
#     return a / b
#
#
# print(division(5, 0))
#
# import logging
# import os
#
#
# # ----------------------------------------------------------------------
# def log(path, multipleLocs=False):
#     """
#     Log to multiple locations if multipleLocs is True
#     """
#     fname = os.path.splitext(path)[0]
#     logger = logging.getLogger("Test_logger_%s" % fname)
#     logger.setLevel(logging.INFO)
#     fh = logging.FileHandler(path)
#     formatter = logging.Formatter('%(asctime)s - %(name)s - %(message)s')
#     fh.setFormatter(formatter)
#     logger.addHandler(fh)
#
#     if multipleLocs:
#         console = logging.StreamHandler()
#         console.setLevel(logging.INFO)
#         console.setFormatter(formatter)
#         logger.addHandler(console)
#
#     logger.info("This is an informational message")
#     try:
#         1 / 0
#     except ZeroDivisionError:
#         logger.exception("You can't do that!")
#
#     logger.critical("THIS IS A SHOW STOPPER!!!")
#
#
# if __name__ == "__main__":
#     log("sample.log")  # log only to file
#     log("sample2.log", multipleLocs=True)  # log to file AND console!


import pickle


class User:
    def __init__(self, id, name, phone):
        self.id = id
        self.name = name
        self.phone = phone

    def save(self):
        file_name = f'{self.id}.user'
        with open(file_name, 'wb') as f:
            pickle.dump(self, f)
        return file_name

    @classmethod
    def from_file(cls, file_path):
        with open(file_path, 'rb') as f:
            return pickle.load(f)


u = User(1, 'akbar', '9129000111')
file_name = u.save()
print(file_name)

other_u = User.from_file(file_name)
print(other_u.id, other_u.name, other_u.phone)
